{"id":"prompt-butler-tdz","title":"Prompt Butler: CLI + TUI Implementation","description":"Rename Prompt Manager → Prompt Butler. Add CLI (pb) + TUI + terminal-styled web app. Core architecture: PromptStorage service handles all business logic; API/CLI/TUI are thin presentation layers.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-15T13:43:41.882588-06:00","created_by":"me","updated_at":"2026-01-15T13:43:41.882588-06:00","labels":["feature","ralph"]}
{"id":"prompt-butler-tdz.1","title":"US-001: Rename + restructure project","description":"Rename Prompt Manager → Prompt Butler with new directory structure.\n\n## Acceptance Criteria\n- [ ] Rename package from prompt_manager to prompt_butler\n- [ ] Update pyproject.toml with new name, add CLI entry point 'pb'\n- [ ] Create directory structure: backend/prompt_butler/{cli.py, tui/, services/storage.py}\n- [ ] Update imports throughout codebase\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T13:44:16.523702-06:00","created_by":"me","updated_at":"2026-01-15T14:00:33.788485-06:00","closed_at":"2026-01-15T14:00:33.788485-06:00","close_reason":"Completed: Package renamed to prompt_butler, pyproject.toml updated with pb CLI entry point, directory structure created with cli.py/tui/services/storage.py, all imports updated, ruff check passes","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.1","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:16.525105-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.10","title":"US-010: Web app terminal aesthetic restyling","description":"Restyle existing shadcn web app with terminal aesthetic.\n\n## Acceptance Criteria\n- [ ] Font: JetBrains Mono or Fira Code\n- [ ] Colors: near-black background, green/amber accents\n- [ ] Effects: scanline overlay, CRT glow, no rounded corners\n- [ ] Components: bordered buttons, green outlines\n- [ ] pytest passes\n- [ ] ruff check passes\n- [ ] Verify in browser that styling looks correct","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T13:44:19.340065-06:00","created_by":"me","updated_at":"2026-01-15T13:44:19.340065-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.10","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:19.340851-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.10","depends_on_id":"prompt-butler-tdz.2","type":"blocks","created_at":"2026-01-15T13:44:26.522108-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.11","title":"US-011: Web app API updates for groups/tags","description":"Add new API endpoints and update web app for groups/tags.\n\n## Acceptance Criteria\n- [ ] GET /api/tags endpoint\n- [ ] GET /api/groups endpoint\n- [ ] POST /api/tags/rename endpoint\n- [ ] POST /api/groups/rename endpoint\n- [ ] Web UI: tag autocomplete in forms\n- [ ] Web UI: group selection/creation\n- [ ] pytest passes\n- [ ] ruff check passes\n- [ ] Verify in browser that tag/group features work","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T13:44:19.671577-06:00","created_by":"me","updated_at":"2026-01-15T13:44:19.671577-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.11","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:19.672369-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.11","depends_on_id":"prompt-butler-tdz.10","type":"blocks","created_at":"2026-01-15T13:44:26.614155-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.2","title":"US-002: PromptStorage service with markdown format","description":"Create PromptStorage service that reads/writes markdown files with YAML frontmatter.\n\n## Acceptance Criteria\n- [ ] PromptStorage class in services/storage.py\n- [ ] File format: markdown with YAML frontmatter (name, description, tags) + ---user--- separator\n- [ ] Folder structure: ~/.prompts/{group}/name.md\n- [ ] Methods: list, get, create, update, delete prompts\n- [ ] Group derived from parent folder, filename is slugified name\n- [ ] Uses python-frontmatter library\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T13:44:16.804616-06:00","created_by":"me","updated_at":"2026-01-15T14:05:01.252196-06:00","closed_at":"2026-01-15T14:05:01.252196-06:00","close_reason":"PromptStorage service implemented with markdown format, YAML frontmatter, ---user--- separator, group-based folder structure. All 29 tests passing, ruff check passes.","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.2","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:16.805324-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.2","depends_on_id":"prompt-butler-tdz.1","type":"blocks","created_at":"2026-01-15T13:44:25.728187-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.3","title":"US-003: Migration command (pb migrate)","description":"Create one-time migration from YAML to markdown format.\n\n## Acceptance Criteria\n- [ ] pb migrate command reads existing YAML prompts\n- [ ] Converts each to markdown with frontmatter format\n- [ ] Places in correct group folders under ~/.prompts/\n- [ ] Handles prompts with/without user sections\n- [ ] Reports migration success/failure count\n- [ ] After migration verified, remove YAML storage code\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T13:44:17.086415-06:00","created_by":"me","updated_at":"2026-01-15T14:09:29.940581-06:00","closed_at":"2026-01-15T14:09:29.940581-06:00","close_reason":"Migration command implemented with MigrationService and pb migrate CLI. Tests pass, ruff passes.","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.3","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:17.087067-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.3","depends_on_id":"prompt-butler-tdz.2","type":"blocks","created_at":"2026-01-15T13:44:25.829773-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.4","title":"US-004: CLI core commands (add/list/show/edit/delete/copy/clone)","description":"Implement core CLI commands using Typer framework.\n\n## Acceptance Criteria\n- [ ] pb add: Interactive prompt creation, --name/--group/--edit flags\n- [ ] pb list: All prompts as pretty table, fuzzy search with query arg\n- [ ] pb list --tag/--group: Filter by tag or group\n- [ ] pb show \u003cname\u003e: Display prompt content\n- [ ] pb edit \u003cname\u003e: Opens $EDITOR\n- [ ] pb delete \u003cname\u003e: With confirmation\n- [ ] pb copy \u003cname\u003e: Copy to clipboard (pyperclip)\n- [ ] pb clone \u003cname\u003e \u003cnewname\u003e: Duplicate prompt\n- [ ] --json flag for scripting output\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T13:44:17.365038-06:00","created_by":"me","updated_at":"2026-01-15T14:15:19.163753-06:00","closed_at":"2026-01-15T14:15:19.163753-06:00","close_reason":"Implemented all CLI commands: add, list, show, edit, delete, copy, clone with --json support. 93 tests pass, ruff check passes.","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.4","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:17.366207-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.4","depends_on_id":"prompt-butler-tdz.2","type":"blocks","created_at":"2026-01-15T13:44:25.932984-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.5","title":"US-005: CLI tag and group commands","description":"Implement tag and group management commands.\n\n## Acceptance Criteria\n- [ ] pb tag list: Show all tags with counts\n- [ ] pb tag rename \u003cold\u003e \u003cnew\u003e: Rename tag across all prompts\n- [ ] pb group list: Show all groups\n- [ ] pb group create \u003cname\u003e: Create empty group folder\n- [ ] pb group rename \u003cold\u003e \u003cnew\u003e: Rename group folder\n- [ ] Tag autocomplete scans existing tags on demand\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T13:44:17.646391-06:00","created_by":"me","updated_at":"2026-01-15T14:22:54.147469-06:00","closed_at":"2026-01-15T14:22:54.147469-06:00","close_reason":"Implemented tag and group CLI commands: pb tag list (show all tags with counts), pb tag rename (rename tags across prompts), pb group list (show groups), pb group create (create empty group), pb group rename (rename groups). All commands support --json output. 155 tests pass, ruff check passes.","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.5","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:17.647107-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.5","depends_on_id":"prompt-butler-tdz.4","type":"blocks","created_at":"2026-01-15T13:44:26.027926-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.6","title":"US-006: CLI utility commands (index/config)","description":"Implement utility CLI commands.\n\n## Acceptance Criteria\n- [ ] pb index: Rebuild in-memory index\n- [ ] pb config: Show/edit config from ~/.config/prompt-butler/config.yaml\n- [ ] pb tui: Launch TUI app\n- [ ] Config respects $EDITOR environment variable\n- [ ] pytest passes\n- [ ] ruff check passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T13:44:18.145367-06:00","created_by":"me","updated_at":"2026-01-15T14:19:05.527035-06:00","closed_at":"2026-01-15T14:19:05.527035-06:00","close_reason":"Implemented pb index, pb config, pb tui commands. Config stored at ~/.config/prompt-butler/config.yaml with prompts_dir/default_group/editor settings. vim respected. 128 tests pass.","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.6","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:18.146008-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.6","depends_on_id":"prompt-butler-tdz.4","type":"blocks","created_at":"2026-01-15T13:44:26.124503-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.7","title":"US-007: TUI List View screen","description":"Create Textual TUI list view for prompts.\n\n## Acceptance Criteria\n- [ ] Launch via pb tui command\n- [ ] Table view with keyboard nav (j/k/Enter)\n- [ ] / key activates search (fuzzy search with rapidfuzz)\n- [ ] Sidebar filter for tags/groups\n- [ ] Styling: Monospace font, green/amber on dark, box-drawing borders\n- [ ] pytest passes\n- [ ] ruff check passes\n- [ ] Verify in browser/terminal that TUI renders correctly","status":"in_progress","priority":3,"issue_type":"task","created_at":"2026-01-15T13:44:18.419824-06:00","created_by":"me","updated_at":"2026-01-15T14:23:12.527739-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.7","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:18.420531-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.7","depends_on_id":"prompt-butler-tdz.6","type":"blocks","created_at":"2026-01-15T13:44:26.220924-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.8","title":"US-008: TUI Detail View screen","description":"Create Textual TUI detail view for viewing single prompt.\n\n## Acceptance Criteria\n- [ ] Full prompt content display\n- [ ] c key copies to clipboard\n- [ ] Esc returns to list view\n- [ ] Shows system prompt and user prompt sections\n- [ ] Monospace styling consistent with list view\n- [ ] pytest passes\n- [ ] ruff check passes\n- [ ] Verify in terminal that detail view renders correctly","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-15T13:44:18.693229-06:00","created_by":"me","updated_at":"2026-01-15T13:44:18.693229-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.8","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:18.693909-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.8","depends_on_id":"prompt-butler-tdz.7","type":"blocks","created_at":"2026-01-15T13:44:26.32004-06:00","created_by":"me"}]}
{"id":"prompt-butler-tdz.9","title":"US-009: TUI Add/Edit Modal","description":"Create Textual TUI modal for adding/editing prompts.\n\n## Acceptance Criteria\n- [ ] Form with name, description, tags, group fields\n- [ ] Tag/group autocomplete from existing values\n- [ ] Markdown textarea for prompt content with syntax highlighting\n- [ ] Delete requires confirmation dialog\n- [ ] Modal styling consistent with TUI theme\n- [ ] pytest passes\n- [ ] ruff check passes\n- [ ] Verify in terminal that modal renders and functions correctly","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-15T13:44:18.988435-06:00","created_by":"me","updated_at":"2026-01-15T13:44:18.988435-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"prompt-butler-tdz.9","depends_on_id":"prompt-butler-tdz","type":"parent-child","created_at":"2026-01-15T13:44:18.98911-06:00","created_by":"me"},{"issue_id":"prompt-butler-tdz.9","depends_on_id":"prompt-butler-tdz.8","type":"blocks","created_at":"2026-01-15T13:44:26.425572-06:00","created_by":"me"}]}
